{% extends 'base.html' %}

{% block content %}

<style>
        table {
          border-collapse: collapse;
          width: 20%;
        }
        
        td, th {
          border: 1px solid #dddddd;
          text-align: center;
          padding: 5px;
        }
        
</style>

<h1>Welcome, Owner!</h1>
<div>
    <h3><u>Stylists (click stylist/patron name to view their profile):</u></h3>        
    {% if stylists %}
        {% for stylist in stylists %}
            <form action="{{ url_for('stylist_page', stylist=stylist.name) }}" method="get">
                <input style="background-color:aquamarine" type="submit" value="{{stylist.name}}"/>
                Appointments: <br><br>
            </form>
            <table>
            {% if stylist.appointments%}
            <th>Patron Name</th>
            <th>Date & Time</th>
                {% for appointment in stylist.appointments %}
                    <tr>
                        <td>
                            <form action="{{ url_for('patron_page', patron=appointment.patron.name) }}" method="get">
                                <input style="background-color:burlywood" type="submit" value="{{appointment.patron.name}}"/>
                            </form>
                        </td>
                        <td>
                            {{ appointment.day }}, {{ appointment.time }}
                        </td>
                    <tr>
                {% endfor %}
            {% else %}
                <tr><td>This stylist has no appointments scheduled.</td></tr>
            {% endif %}
            </table>
            <br>
            <br>
            <br>
        {% endfor %}
    {% endif %}
</div>
<br>
<br>
<br>
<h3><u>Options:</u></h3>
<div>
    <form action="{{ url_for('stylist_creation_page') }}" method="get">
        <input type="submit" value="Create New Stylist Login"/>
    </form>
</div>
<br>
<div>
    <form action="{{ url_for('login_page') }}" method="get">
        <input type="submit" value="Log Out"/>
    </form>
</div>

{% endblock %}